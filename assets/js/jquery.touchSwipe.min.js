/*
 @fileOverview TouchSwipe - jQuery Plugin
 @version 1.6.18

 @author Matt Bryson http://www.github.com/mattbryson
 @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
 @see http://labs.rampinteractive.co.uk/touchSwipe/
 @see http://plugins.jquery.com/project/touchSwipe
 @license
 Copyright (c) 2010-2015 Matt Bryson
 Dual licensed under the MIT or GPL Version 2 licenses.

*/
!function(l){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],l):l("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(l){function ia(d){return!d||void 0!==d.allowPageScroll||void 0===d.swipe&&void 0===d.swipeStatus||(d.allowPageScroll=P),void 0!==d.click&&void 0===d.tap&&(d.tap=d.click),d||(d={}),d=l.extend({},l.fn.swipe.defaults,d),this.each(function(){var b=l(this),n=b.data(A);n||(n=new La(this,d),b.data(A,n))})}function La(d,b){function n(a){if(!(!0===
c.data(A+"_intouch")||0<l(a.target).closest(b.excludedElements,c).length)){var e=a.originalEvent?a.originalEvent:a;if(!e.pointerType||"mouse"!=e.pointerType||0!=b.fallbackToMouseEvents){var f,F=e.touches,d=F?F[0]:e;g=xa;F?h=F.length:!1!==b.preventDefaultEvents&&a.preventDefault();p=0;y=t=q=null;B=C=m=0;w=1;z=0;V=ia();W=Q=0;return X(0,d),!F||h===b.fingers||b.fingers===R||Y()?(Z=D(),2==h&&(X(1,F[1]),C=B=ja(k[0].start,k[1].start)),(b.swipeStatus||b.pinchStatus)&&(f=x(e,g))):f=!1,!1===f?(g=u,x(e,g),f):
(b.hold&&(S=setTimeout(l.proxy(function(){c.trigger("hold",[e.target]);b.hold&&(f=b.hold.call(c,e,e.target))},this),b.longTapThreshold)),aa(!0),null)}}}function ka(a){var e=a.originalEvent?a.originalEvent:a;if(g!==r&&g!==u&&!ba()){var f=e.touches;var c=ya(f?f[0]:e);T=D();f&&(h=f.length);b.hold&&clearTimeout(S);g=G;2==h&&(0==C?(X(1,f[1]),C=B=ja(k[0].start,k[1].start)):(ya(f[1]),B=ja(k[0].end,k[1].end),y=1>w?la:ma),w=(B/C*1).toFixed(2),z=Math.abs(C-B));if(h===b.fingers||b.fingers===R||!f||Y()){q=za(c.start,
c.end);var d=t=za(c.last,c.end);if(!1!==b.preventDefaultEvents)if(b.allowPageScroll===P)a.preventDefault();else switch(f=b.allowPageScroll===Aa,d){case E:(b.swipeLeft&&f||!f&&b.allowPageScroll!=na)&&a.preventDefault();break;case H:(b.swipeRight&&f||!f&&b.allowPageScroll!=na)&&a.preventDefault();break;case I:(b.swipeUp&&f||!f&&b.allowPageScroll!=oa)&&a.preventDefault();break;case J:(b.swipeDown&&f||!f&&b.allowPageScroll!=oa)&&a.preventDefault()}d=c.start;a=c.end;p=Math.round(Math.sqrt(Math.pow(a.x-
d.x,2)+Math.pow(a.y-d.y,2)));m=T-Z;d=q;a=p;d!=P&&(a=Math.max(a,Ba(d)),V[d].distance=a);if(d=x(e,g),!b.triggerOnTouchEnd||b.triggerOnTouchLeave){a=!0;if(b.triggerOnTouchLeave){var n=l(this);var v=n.offset();a=v.left;f=v.left+n.outerWidth();var A=v.top;n=v.top+n.outerHeight();c=c.end;a=c.x>a&&c.x<f&&c.y>A&&c.y<n}!b.triggerOnTouchEnd&&a?g=pa(G):b.triggerOnTouchLeave&&!a&&(g=pa(r));g!=u&&g!=r||x(e,g)}}else g=u,x(e,g);!1===d&&(g=u,x(e,g))}}function qa(a){var e=a.originalEvent?a.originalEvent:a,f=e.touches;
if(f){if(f.length&&!ba())return Q=D(),W=e.touches.length+1,!0;if(f.length&&ba())return!0}return ba()&&(h=W),T=D(),m=T-Z,ra()||!sa()?(g=u,x(e,g)):b.triggerOnTouchEnd||!1===b.triggerOnTouchEnd&&g===G?(!1!==b.preventDefaultEvents&&!1!==a.cancelable&&a.preventDefault(),g=r,x(e,g)):!b.triggerOnTouchEnd&&b.tap?(g=r,K(e,g,ta)):g===G&&(g=u,x(e,g)),aa(!1),null}function L(){B=C=Z=T=h=0;w=1;W=Q=0;aa(!1)}function ua(a){a=a.originalEvent?a.originalEvent:a;b.triggerOnTouchLeave&&(g=pa(r),x(a,g))}function Ca(){c.unbind(ca,
n);c.unbind(da,L);c.unbind(va,ka);c.unbind(wa,qa);M&&c.unbind(M,ua);aa(!1)}function pa(a){var e=a,f=!b.maxTimeThreshold||!(m>=b.maxTimeThreshold),c=sa(),d=ra();return!f||d?e=u:!c||a!=G||b.triggerOnTouchEnd&&!b.triggerOnTouchLeave?!c&&a==r&&b.triggerOnTouchLeave&&(e=u):e=r,e}function x(a,e){var f,c=a.touches;return(!(!Da()||!Ea())||Ea())&&(f=K(a,e,Fa)),(!(!Ga()||!Y())||Y())&&!1!==f&&(f=K(a,e,Ha)),Ia()&&b.doubleTap&&!1!==f?f=K(a,e,Ja):m>b.longTapThreshold&&p<Ma&&b.longTap&&!1!==f?f=K(a,e,Ka):!(1!==
h&&N||!(isNaN(p)||p<b.threshold)||!b.tap)&&!1!==f&&(f=K(a,e,ta)),e===u&&L(a),e===r&&(c?c.length||L(a):L(a)),f}function K(a,e,f){var d;if(f==Fa){if(c.trigger("swipeStatus",[e,q||null,p||0,m||0,h,k,t]),b.swipeStatus&&(d=b.swipeStatus.call(c,a,e,q||null,p||0,m||0,h,k,t),!1===d))return!1;if(e==r&&Da()){if(clearTimeout(U),clearTimeout(S),c.trigger("swipe",[q,p,m,h,k,t]),b.swipe&&(d=b.swipe.call(c,a,q,p,m,h,k,t),!1===d))return!1;switch(q){case E:c.trigger("swipeLeft",[q,p,m,h,k,t]);b.swipeLeft&&(d=b.swipeLeft.call(c,
a,q,p,m,h,k,t));break;case H:c.trigger("swipeRight",[q,p,m,h,k,t]);b.swipeRight&&(d=b.swipeRight.call(c,a,q,p,m,h,k,t));break;case I:c.trigger("swipeUp",[q,p,m,h,k,t]);b.swipeUp&&(d=b.swipeUp.call(c,a,q,p,m,h,k,t));break;case J:c.trigger("swipeDown",[q,p,m,h,k,t]),b.swipeDown&&(d=b.swipeDown.call(c,a,q,p,m,h,k,t))}}}if(f==Ha){if(c.trigger("pinchStatus",[e,y||null,z||0,m||0,h,w,k]),b.pinchStatus&&(d=b.pinchStatus.call(c,a,e,y||null,z||0,m||0,h,w,k),!1===d))return!1;if(e==r&&Ga())switch(y){case ma:c.trigger("pinchIn",
[y||null,z||0,m||0,h,w,k]);b.pinchIn&&(d=b.pinchIn.call(c,a,y||null,z||0,m||0,h,w,k));break;case la:c.trigger("pinchOut",[y||null,z||0,m||0,h,w,k]),b.pinchOut&&(d=b.pinchOut.call(c,a,y||null,z||0,m||0,h,w,k))}}return f==ta?e!==u&&e!==r||(clearTimeout(U),clearTimeout(S),b.doubleTap&&!Ia()?(v=D(),U=setTimeout(l.proxy(function(){v=null;c.trigger("tap",[a.target]);b.tap&&(d=b.tap.call(c,a,a.target))},this),b.doubleTapThreshold)):(v=null,c.trigger("tap",[a.target]),b.tap&&(d=b.tap.call(c,a,a.target)))):
f==Ja?e!==u&&e!==r||(clearTimeout(U),clearTimeout(S),v=null,c.trigger("doubletap",[a.target]),b.doubleTap&&(d=b.doubleTap.call(c,a,a.target))):f==Ka&&(e!==u&&e!==r||(clearTimeout(U),v=null,c.trigger("longtap",[a.target]),b.longTap&&(d=b.longTap.call(c,a,a.target)))),d}function sa(){var a=!0;return null!==b.threshold&&(a=p>=b.threshold),a}function ra(){var a=!1;return null!==b.cancelThreshold&&null!==q&&(a=Ba(q)-p>=b.cancelThreshold),a}function Ga(){var a=0!==k[0].end.x,e=null===b.pinchThreshold||
z>=b.pinchThreshold;return(h===b.fingers||b.fingers===R||!N)&&a&&e}function Y(){return!!(b.pinchStatus||b.pinchIn||b.pinchOut)}function Da(){var a=!b.maxTimeThreshold||!(m>=b.maxTimeThreshold),e=sa(),f=h===b.fingers||b.fingers===R||!N,c=0!==k[0].end.x;return!ra()&&c&&f&&e&&a}function Ea(){return!!(b.swipe||b.swipeStatus||b.swipeLeft||b.swipeRight||b.swipeUp||b.swipeDown)}function Ia(){if(null==v)return!1;var a=D();return!!b.doubleTap&&a-v<=b.doubleTapThreshold}function ba(){var a=!1;Q&&D()-Q<=b.fingerReleaseThreshold&&
(a=!0);return a}function aa(a){c&&(!0===a?(c.bind(va,ka),c.bind(wa,qa),M&&c.bind(M,ua)):(c.unbind(va,ka,!1),c.unbind(wa,qa,!1),M&&c.unbind(M,ua,!1)),c.data(A+"_intouch",!0===a))}function X(a,b){var c={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return c.start.x=c.last.x=c.end.x=b.pageX||b.clientX,c.start.y=c.last.y=c.end.y=b.pageY||b.clientY,k[a]=c,c}function ya(a){var b=void 0!==a.identifier?a.identifier:0,c=k[b]||null;return null===c&&(c=X(b,a)),c.last.x=c.end.x,c.last.y=c.end.y,c.end.x=a.pageX||
a.clientX,c.end.y=a.pageY||a.clientY,c}function Ba(a){if(V[a])return V[a].distance}function ia(){var a={};return a[E]=ea(E),a[H]=ea(H),a[I]=ea(I),a[J]=ea(J),a}function ea(a){return{direction:a,distance:0}}function ja(a,b){var c=Math.abs(a.x-b.x);a=Math.abs(a.y-b.y);return Math.round(Math.sqrt(c*c+a*a))}function za(a,b){if(a.x==b.x&&a.y==b.y)return P;b=Math.round(180*Math.atan2(b.y-a.y,a.x-b.x)/Math.PI);a=(0>b&&(b=360-Math.abs(b)),b);return 45>=a&&0<=a?E:360>=a&&315<=a?E:135<=a&&225>=a?H:45<a&&135>
a?J:I}function D(){return(new Date).getTime()}b=l.extend({},b);var fa=N||O||!b.fallbackToMouseEvents,ca=fa?O?ha?"MSPointerDown":"pointerdown":"touchstart":"mousedown",va=fa?O?ha?"MSPointerMove":"pointermove":"touchmove":"mousemove",wa=fa?O?ha?"MSPointerUp":"pointerup":"touchend":"mouseup",M=fa?O?"mouseleave":null:"mouseleave",da=O?ha?"MSPointerCancel":"pointercancel":"touchcancel",p=0,q=null,t=null,m=0,C=0,B=0,w=1,z=0,y=0,V=null,c=l(d),g="start",h=0,k={},Z=0,T=0,Q=0,W=0,v=0,U=null,S=null;try{c.bind(ca,
n),c.bind(da,L)}catch(a){l.error("events not supported "+ca+","+da+" on jQuery.swipe")}this.enable=function(){return this.disable(),c.bind(ca,n),c.bind(da,L),c};this.disable=function(){return Ca(),c};this.destroy=function(){Ca();c.data(A,null);c=null};this.option=function(a,c){if("object"==typeof a)b=l.extend(b,a);else if(void 0!==b[a]){if(void 0===c)return b[a];b[a]=c}else{if(!a)return b;l.error("Option "+a+" does not exist on jQuery.swipe.options")}return null}}var E="left",H="right",I="up",J="down",
ma="in",la="out",P="none",Aa="auto",Fa="swipe",Ha="pinch",ta="tap",Ja="doubletap",Ka="longtap",na="horizontal",oa="vertical",R="all",Ma=10,xa="start",G="move",r="end",u="cancel",N="ontouchstart"in window,ha=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!N,O=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!N,A="TouchSwipe";l.fn.swipe=function(d){var b=l(this),n=b.data(A);if(n&&"string"==typeof d){if(n[d])return n[d].apply(n,Array.prototype.slice.call(arguments,
1));l.error("Method "+d+" does not exist on jQuery.swipe")}else if(n&&"object"==typeof d)n.option.apply(n,arguments);else if(!(n||"object"!=typeof d&&d))return ia.apply(this,arguments);return b};l.fn.swipe.version="1.6.18";l.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,
pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};l.fn.swipe.phases={PHASE_START:xa,PHASE_MOVE:G,PHASE_END:r,PHASE_CANCEL:u};l.fn.swipe.directions={LEFT:E,RIGHT:H,UP:I,DOWN:J,IN:ma,OUT:la};l.fn.swipe.pageScroll={NONE:P,HORIZONTAL:na,VERTICAL:oa,AUTO:Aa};l.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:R}});
